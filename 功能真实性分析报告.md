# iPhoneInfo åŠŸèƒ½çœŸå®æ€§å®Œæ•´åˆ†ææŠ¥å‘Š

ç”Ÿæˆæ—¶é—´: 2026-01-13
åˆ†æç›®æ ‡: è¯†åˆ«è™šå‡å®ç°å’Œæ— æ³•å®ç°çš„åŠŸèƒ½

---

## æ‰§è¡Œæ‘˜è¦

**åˆ†ææ–¹æ³•**: ä»£ç å®¡è®¡ + æŠ€æœ¯è°ƒç ”
**ç ”ç©¶èŒƒå›´**: 
- Appleå®˜æ–¹æ–‡æ¡£
- Stack Overflowè®¨è®º
- GitHubå¼€æºé¡¹ç›®å‚è€ƒ
- Metal/CoreMotion/Networkæ¡†æ¶èƒ½åŠ›åˆ†æ

**ä»£ç å®¡è®¡ç»“æœ**: 
- æœç´¢ TODO: 7å¤„
- æœç´¢FIXME: 0å¤„  
- æœç´¢Mockæ•°æ®: 2å¤„
- æœç´¢å ä½ç¬¦å®ç°: 3å¤„

---

## âœ… å®Œå…¨çœŸå®å®ç°çš„åŠŸèƒ½ (60%)

### 1. HomeView - è®¾å¤‡ä¿¡æ¯å±•ç¤º âœ…
**å®ç°æ–‡ä»¶**: iPhoneInfo/Views/HomeView.swift
**æ•°æ®æ¥æº**: 
- DeviceInfoService: ä½¿ç”¨ UIDevice + sysctl è·å–çœŸå®ç³»ç»Ÿä¿¡æ¯
- ExtendedDeviceDetailsService: ä½¿ç”¨ IOKit è·å–ç¡¬ä»¶è¯¦æƒ…
- ThermalService: ä½¿ç”¨ ProcessInfo.thermalState è·å–çœŸå®çƒ­ç®¡ç†çŠ¶æ€
- éªŒè¯æ–¹æ³•: ç›´æ¥ç³»ç»ŸAPIè°ƒç”¨,æ— ä¼ªé€ æ•°æ®

**å®Œæˆåº¦**: 100%

### 2. BenchmarkView - æ€§èƒ½æµ‹è¯• âœ…
**å®ç°æ–‡ä»¶**: 
- iPhoneInfo/Views/BenchmarkView.swift
- iPhoneInfo/Services/BenchmarkService.swift
- iPhoneInfo/Benchmark/CPUBenchmark.swift
- iPhoneInfo/Benchmark/MetalBenchmark.swift
- iPhoneInfo/Benchmark/MemoryBenchmark.swift
- iPhoneInfo/Benchmark/StorageBenchmark.swift

**çœŸå®æµ‹è¯•é¡¹ç›®**:
- âœ… CPUæµ‹è¯•: cpuSingleCoreTest() (è´¨æ•°è®¡ç®—), cpuMultiCoreTest() (å¹¶è¡Œè¿ç®—)
- âœ… GPUæµ‹è¯•: gpuTest() (Metalæ¸²æŸ“,æµ‹é‡çœŸå®FPS)
- âœ… å†…å­˜æµ‹è¯•: memoryTest() (malloc/freeå¸¦å®½æµ‹è¯•)
- âœ… å­˜å‚¨æµ‹è¯•: storageTest() (æ–‡ä»¶I/Oæµ‹è¯•)
- âœ… Metalåœºæ™¯: ManhattanBenchmark (3Då‡ ä½•ä½“æ¸²æŸ“)

**éªŒè¯æ–¹æ³•**: 
- æ‰€æœ‰æµ‹è¯•æ‰§è¡ŒçœŸå®è®¡ç®—
- æ€§èƒ½åˆ†æ•°æ¥è‡ªå®é™…æµ‹é‡
- æ— æ¨¡æ‹Ÿæˆ–è™šå‡æ•°æ®

**å®Œæˆåº¦**: 100%

### 3. MonitorView - å®æ—¶ç›‘æ§ âœ…
**å®ç°æ–‡ä»¶**: 
- iPhoneInfo/Views/MonitorView.swift
- iPhoneInfo/Services/SystemMonitor.swift
- iPhoneInfo/Services/ThermalService.swift

**çœŸå®ç›‘æ§æŒ‡æ ‡**:
- âœ… CPUä½¿ç”¨ç‡: ä½¿ç”¨ mach kernel APIs (task_threads, thread_info)
- âœ… å†…å­˜ä½¿ç”¨ç‡: ä½¿ç”¨ host_statistics64 è·å– vm_stats
- âœ… ç£ç›˜ä½¿ç”¨ç‡: ä½¿ç”¨ statfs è·å–çœŸå®ç£ç›˜ä¿¡æ¯
- âœ… ç”µæ± çŠ¶æ€: UIDevice.current.batteryLevel
- âœ… çƒ­ç®¡ç†çŠ¶æ€: ProcessInfo.processInfo.thermalState
- âš ï¸ GPUä½¿ç”¨ç‡: ä¼°ç®—å€¼,åŸºäºå±å¹•äº®åº¦å’Œçƒ­ç®¡ç†çŠ¶æ€

**éªŒè¯æ–¹æ³•**: ç³»ç»ŸAPIç›´æ¥è°ƒç”¨

**å®Œæˆåº¦**: 100%

### 4. SensorService - ä¼ æ„Ÿå™¨ç›‘æ§ âœ… (æœªé›†æˆåˆ°UI)
**å®ç°æ–‡ä»¶**: iPhoneInfo/Services/SensorService.swift
**çœŸå®ä¼ æ„Ÿå™¨æ•°æ®**:
- âœ… åŠ é€Ÿåº¦è®¡: CMMotionManager.accelerometerUpdates
- âœ… é™€èºä»ª: CMMotionManager.gyroUpdates
- âœ… ç£åŠ›è®¡: CMMotionManager.magnetometerUpdates

**éªŒè¯æ–¹æ³•**: CoreMotionå®˜æ–¹API,æ— ä¼ªé€ 

**é›†æˆçŠ¶æ€**: âš ï¸ å·²å®ç°ä½†æœªæ·»åŠ åˆ°HomeView

**å®Œæˆåº¦**: 100%

---

## âŒ å®Œå…¨è™šå‡å®ç° (30%)

### 1. CompareView - å†å²è®°å½•å¯¹æ¯” âŒ
**é—®é¢˜**: ä½¿ç”¨ç¡¬ç¼–ç çš„å‡æ•°æ®

**ä½ç½®**: iPhoneInfo/Views/CompareView.swift:51
**ä»£ç **:
```swift
@State private var mockHistory: [BenchmarkRecord] = [
    BenchmarkRecord(date: Date(), cpuScore: 8234, gpuScore: 15678, totalScore: 12345, grade: "A"),
    BenchmarkRecord(date: Date().addingTimeInterval(-86400), cpuScore: 8156, gpuScore: 15432, totalScore: 12100, grade: "A"),
    BenchmarkRecord(date: Date().addingTimeInterval(-172800), cpuScore: 8289, gpuScore: 15789, totalScore: 12456, grade: "A"),
]
```

**å®é™…æƒ…å†µ**: 
- ç”¨æˆ·çœ‹åˆ°3æ¡å›ºå®šçš„å‡æµ‹è¯•è®°å½•
- æµ‹è¯•æ•°æ®ä¸åæ˜ çœŸå®è®¾å¤‡æ€§èƒ½
- ç”¨æˆ·æ— æ³•çœ‹åˆ°è‡ªå·±çœŸå®è¿è¡Œæµ‹è¯•åçš„ç»“æœ

**åº”è¯¥å®ç°**: 
- ä»BenchmarkHistoryManager.shared.historyè¯»å–çœŸå®å†å²
- æ˜¾ç¤ºæ‰€æœ‰å·²ä¿å­˜çš„æµ‹è¯•è®°å½•

**å®Œæˆåº¦**: 0% (å®Œå…¨è™šå‡)

### 2. CompareView - è®¾å¤‡å¯¹æ¯”å’Œäº‘ç«¯æ’è¡Œ âŒ
**é—®é¢˜**: Tabå­˜åœ¨ä½†è§†å›¾æœªå®ç°

**ä½ç½®**: iPhoneInfo/Views/CompareView.swift:13-40
**ä»£ç **:
```swift
enum CompareTab: String, CaseIterable {
    case history = "å†å²è®°å½•"  // æœ‰å®ç°(ä½†ç”¨å‡æ•°æ®)
    case comparison = "è®¾å¤‡å¯¹æ¯”"  // æ— å®ç°
    case leaderboard = "äº‘ç«¯æ’è¡Œ"  // æ— å®ç°
}
```

**å®é™…æƒ…å†µ**:
- "è®¾å¤‡å¯¹æ¯”"æ ‡ç­¾é¡µ: æ˜¾ç¤ºç©ºçš„ComparisonView
- "äº‘ç«¯æ’è¡Œ"æ ‡ç­¾é¡µ: æ˜¾ç¤ºç©ºçš„LeaderboardView
- ç”¨æˆ·ç‚¹å‡»åçœ‹ä¸åˆ°ä»»ä½•å†…å®¹

**åº”è¯¥å®ç°**:
- **è®¾å¤‡å¯¹æ¯”**: å…è®¸é€‰æ‹©2ä¸ªçœŸå®å†å²è®°å½•è¿›è¡Œå¯¹æ¯”(åˆ†æ•°æŸ±çŠ¶å›¾)
- **äº‘ç«¯æ’è¡Œ**: éœ€è¦åç«¯APIæœåŠ¡(CloudLeaderboardServiceå·²å­˜åœ¨ä½†æœªé›†æˆ)

**å®Œæˆåº¦**: 0% (UIå ä½ç¬¦)

### 3. SettingsView - æ•°æ®å¯¼å‡º âŒ
**é—®é¢˜**: æŒ‰é’®å­˜åœ¨ä½†ç‚¹å‡»æ— æ•ˆæœ

**ä½ç½®**: iPhoneInfo/Views/SettingsView.swift:86-101
**ä»£ç **:
```swift
Button("å¯¼å‡ºä¸º CSV") {
    // TODO: Implement CSV export
}
Button("å¯¼å‡ºä¸º JSON") {
    // TODO: Implement JSON export
}
Button("å¯¼å‡ºä¸º PDF") {
    // TODO: Implement PDF export
}
```

**å®é™…æƒ…å†µ**:
- ä¸‰ä¸ªå¯¼å‡ºæŒ‰é’®éƒ½å­˜åœ¨
- ç‚¹å‡»åæ²¡æœ‰ä»»ä½•ååº”
- ç”¨æˆ·æ— æ³•å¯¼å‡ºæµ‹è¯•ç»“æœ

**åº”è¯¥å®ç°**:
- é›†æˆCoreDataModels.exportToCSV() - å¯¼å‡ºCSVæ ¼å¼
- é›†æˆCoreDataModels.exportToJSON() - å¯¼å‡ºJSONæ ¼å¼
- é›†æˆCoreDataModels.exportToPDF() - å¯¼å‡ºPDFæŠ¥å‘Š

**å®Œæˆåº¦**: 0% (å®Œå…¨æœªå®ç°)

### 4. SettingsView - æ¸…é™¤å†å² âŒ
**é—®é¢˜**: æŒ‰é’®å­˜åœ¨ä½†ç‚¹å‡»æ— æ•ˆæœ

**ä½ç½®**: iPhoneInfo/Views/SettingsView.swift:119-128
**ä»£ç **:
```swift
Button("ç¡®è®¤åˆ é™¤", role: .destructive) {
    showConfirmation = true  // ç¬¬124è¡Œ
}

.alert("ç¡®è®¤åˆ é™¤", isPresented: $showConfirmation) {
    Button("å–æ¶ˆ", role: .cancel) {}
    Button("åˆ é™¤", role: .destructive) {
        // TODO: Implement clear history  // ç¬¬135è¡Œ
    }
}
```

**å®é™…æƒ…å†µ**:
- æ¸…é™¤æŒ‰é’®å­˜åœ¨
- ç‚¹å‡»åæ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†
- ç‚¹å‡»"åˆ é™¤"åæ— ååº”
- æ—§çš„æµ‹è¯•è®°å½•æ— æ³•åˆ é™¤

**åº”è¯¥å®ç°**:
- é›†æˆBenchmarkHistoryManager.shared.clearAllHistory()
- åˆ é™¤æ‰€æœ‰å†å²è®°å½•å¹¶æ¸…ç©ºUI

**å®Œæˆåº¦**: 0% (å®Œå…¨æœªå®ç°)

### 5. CompareView - BenchmarkHistoryManageré›†æˆ âŒ
**é—®é¢˜**: CompareViewæœªä½¿ç”¨BenchmarkHistoryManager

**å®é™…æƒ…å†µ**: CompareViewæœ‰mockHistory,ä½†ä»æœªä»CoreDataè¯»å–çœŸå®æ•°æ®

**å®Œæˆåº¦**: 0% (æ•°æ®æµæœªè¿æ¥)

### 6. BenchmarkService - è‡ªåŠ¨ä¿å­˜ç»“æœ âŒ
**é—®é¢˜**: æµ‹è¯•å®Œæˆåæœªä¿å­˜åˆ°CoreData

**ä½ç½®**: iPhoneInfo/Services/BenchmarkService.swift:41-99
**ä»£ç **:
```swift
@Published var results: [BenchmarkResult] = []

private func executeTests(type: BenchmarkType, completion: @escaping () -> Void) {
    // ... æµ‹è¯•ä»£ç  ...
    
    // æ²¡æœ‰ autoSaveResults(type: type) è°ƒç”¨!
}
```

**å®é™…æƒ…å†µ**:
- ç”¨æˆ·è¿è¡Œæ€§èƒ½æµ‹è¯•
- ç»“æœåªæ˜¾ç¤ºåœ¨å½“å‰ä¼šè¯
- é€€å‡ºåº”ç”¨åæ•°æ®ä¸¢å¤±
- æ— æ³•æŸ¥çœ‹å†å²è®°å½•

**åº”è¯¥å®ç°**:
- åœ¨æµ‹è¯•å®Œæˆåè°ƒç”¨ autoSaveResults()
- autoSaveResultsè°ƒç”¨ BenchmarkHistoryManager.shared.saveResult()

**å®Œæˆåº¦**: 0% (æ•°æ®æµæœªè¿æ¥)

### 7. SettingsView - å…³äºé¡µé¢å†…å®¹ âŒ
**é—®é¢˜**: é™æ€å ä½ç¬¦æ–‡æœ¬

**ä½ç½®**: iPhoneInfo/Views/SettingsView.swift:64-79
**ä»£ç **:
```swift
NavigationLink("ç”¨æˆ·åè®®") {
    Text("ç”¨æˆ·åè®®å†…å®¹")  // ç¬¬68è¡Œ
}

NavigationLink("éšç§æ”¿ç­–") {
    Text("éšç§æ”¿ç­–å†…å®¹")  // ç¬¬72è¡Œ
}

NavigationLink("å¼€æºåè®®") {
    Text("å¼€æºåè®®å†…å®¹")  // ç¬¬76è¡Œ
}
```

**å®é™…æƒ…å†µ**:
- ç‚¹å‡»ååªæ˜¾ç¤º"xxxå†…å®¹"
- æ²¡æœ‰çœŸå®æ–‡æ¡£
- ç”¨æˆ·æ— æ³•äº†è§£åº”ç”¨åè®®

**åº”è¯¥å®ç°**:
- æ·»åŠ çœŸå®çš„Markdownæ–‡æ¡£
- æˆ–æä¾›Webé“¾æ¥

**å®Œæˆåº¦**: 0% (å®Œå…¨å ä½)

---

## âš ï¸ éƒ¨åˆ†çœŸå®ä½†éœ€æ”¹è¿›çš„åŠŸèƒ½ (10%)

### 1. SystemMonitor - ç½‘ç»œæµé‡ç›‘æ§ âš ï¸
**é—®é¢˜**: è¿”å›å…¨0æµé‡æ•°æ®

**ä½ç½®**: iPhoneInfo/Services/SystemMonitor.swift:283-297
**ä»£ç **:
```swift
private func getNetworkActivity() -> NetworkActivity {
    // iOS doesn't provide direct network counter access
    // This is a placeholder implementation
    
    return NetworkActivity(
        wifiReceived: 0,
        wifiSent: 0,
        cellularReceived: 0,
        cellularSent: 0,
        totalReceived: 0,
        totalSent: 0
    )
}
```

**è°ƒç ”ç»“æœ**: 
- âœ… Appleå…¬å¼€APIæ— æ³•è·å–æµé‡ç»Ÿè®¡(éšç§é™åˆ¶)
- âœ… ç§æœ‰API(getifaddrs)æœ‰1KiBé™åˆ¶å’Œ32ä½æº¢å‡ºé—®é¢˜
- âš ï¸ NetworkExtensionå¯è·å–æµé‡ä½†App Storeä¸æ¨è(å¿…é¡»ä»¥VPNä¸ºä¸»è¦åŠŸèƒ½)

**æ”¹è¿›å»ºè®®**:
1. åœ¨UIä¸­æ·»åŠ å…è´£å£°æ˜:"ç½‘ç»œæµé‡ç›‘æ§åœ¨iOSä¸Šä¸å¯ç”¨(App Storeéšç§é™åˆ¶)"
2. è€ƒè™‘å®ç°ç½‘ç»œè¿æ¥çŠ¶æ€ç›‘æ§(ä½¿ç”¨Networkæ¡†æ¶)
3. æˆ–å®Œå…¨ç§»é™¤æµé‡ç›‘æ§åŠŸèƒ½,ä¸“æ³¨äºè¿æ¥çŠ¶æ€

**å®Œæˆåº¦**: 30% (æœ‰APIåŸºç¡€,ä½†å®é™…ä¸å¯ç”¨)

### 2. MetalBenchmark - GPUåœºæ™¯ âš ï¸
**é—®é¢˜**: åªå®ç°Manhattanåœºæ™¯,ç¼ºå°‘å…¶ä»–åœºæ™¯

**ç°çŠ¶**: 
- âœ… ManhattanBenchmark: å®Œæ•´å®ç°
- âŒ AztecRuinsBenchmark: æœªå®ç°
- âŒ SolarBayBenchmark: æœªå®ç°
- âŒ WildLifeExtremeBenchmark: æœªå®ç°

**åº”è¯¥æ·»åŠ **: 
- Aztec Ruins: é«˜å¤æ‚åº¦åœºæ™¯,æ›´å¤šå‡ ä½•ä½“
- Wild Life Extreme: å‹åŠ›æµ‹è¯•åœºæ™¯

**å®Œæˆåº¦**: 30% (åªæœ‰1ä¸ªåœºæ™¯)

---

## ğŸ”¬ æŠ€æœ¯é™åˆ¶ä¸è§£å†³æ–¹æ¡ˆè°ƒç ”

### A. ç½‘ç»œæµé‡ç›‘æ§ - æ”¾å¼ƒçœŸå®å®ç°

#### å¯è¡Œæ€§åˆ†æ
| æ–¹æ¡ˆ | å…¬å¼€API | ç§æœ‰API | App Storeæ”¿ç­– | æ¨èåº¦ |
|------|-------|--------|-------------|---------|
| sysctl + getifaddrs | âœ… | âš ï¸ | âŒ | ä¸æ¨è |
| Networkæ¡†æ¶ | âœ… | âŒ | âœ… | æ¨è |
| NetworkExtension | âœ… | âœ… | âš ï¸ | æœ‰é£é™© |
| URLSession metrics | âœ… | âŒ | âœ… | å±€é™äºè‡ªèº« |

#### æŠ€æœ¯é™åˆ¶
1. **Appleéšç§é™åˆ¶**: ä¸å…è®¸App Storeåº”ç”¨ä»¥ç›‘æ§ä¸ºä¸»è¦ç›®çš„è¯»å–å…¶ä»–åº”ç”¨æµé‡
2. **1KiB Rounding**: getifaddrsè¿”å›çš„æµé‡ä»¥1KiBä¸ºå•ä½,å¯¼è‡´å­—èŠ‚çº§ç»Ÿè®¡ä¸å‡†ç¡®
3. **32ä½æº¢å‡º**: iOS 14.2.1+ä¸­,å½“æµé‡è¶…è¿‡4GiBæ—¶è®¡æ•°å™¨æº¢å‡ºå½’é›¶
4. **èƒŒæ™¯åˆ·æ–°é—´éš”**: sysctlç”±å†…æ ¸æ§åˆ¶,åº”ç”¨æ— æ³•æ§åˆ¶é‡‡æ ·é¢‘ç‡
5. **è™šæ‹Ÿæ¥å£å½±å“**: VPNã€è™šæ‹Ÿæ¥å£ç­‰ç»Ÿè®¡å¯èƒ½ä¸å‡†ç¡®

#### æœ€ç»ˆå†³ç­–
**âŒ æ”¾å¼ƒ**çœŸå®çš„æµé‡ç»Ÿè®¡å®ç°

**æ›¿ä»£æ–¹æ¡ˆ**: 
```swift
// ä½¿ç”¨Networkæ¡†æ¶ç›‘æ§è¿æ¥çŠ¶æ€
import Network

class NetworkMonitor: ObservableObject {
    @Published var isConnected = false
    @Published var isExpensive = false
    @Published var connectionType: String?
    
    func startMonitoring() {
        let monitor = NWPathMonitor()
        monitor.pathUpdateHandler = { [weak self] path in
            DispatchQueue.main.async {
                self?.isConnected = path.status == .satisfied
                self?.isExpensive = path.isExpensive
                if let interface = path.availableInterfaces.first {
                    self?.connectionType = self.getInterfaceTypeName(interface.type)
                }
            }
        }
        monitor.start(queue: .main)
    }
    
    private func getInterfaceTypeName(_ type: NWInterface.InterfaceType) -> String {
        switch type {
        case .wifi: return "WiFi"
        case .cellular: return "èœ‚çª"
        case .wiredEthernet: return "æœ‰çº¿"
        case .other: return "å…¶ä»–"
        }
    }
}
```

**ç†ç”±**:
1. App Storeå®¡æ ¸é£é™©æé«˜(æµé‡ç›‘æ§åº”ç”¨å¯èƒ½è¢«æ‹’)
2. ç”¨æˆ·æ— æ³•çœŸæ­£ç†è§£"0æµé‡"çš„å«ä¹‰
3. æŠ€æœ¯å®ç°å¤æ‚ä½†æ•ˆæœæœ‰é™
4. ç»´æŠ¤æˆæœ¬é«˜ä¸”æ”¶ç›Šä½

### B. GPUä½¿ç”¨ç‡ç›‘æ§ - ä¼°ç®—è€Œéæ”¾å¼ƒ

#### å½“å‰å®ç°è¯„ä¼°
```swift
// SystemMonitor.swift:211-241
private func estimateGPUUsage() -> Double {
    var gpuLoad: Double = 0
    
    // åŸºäºå±å¹•äº®åº¦ä¼°ç®—
    if UIScreen.main.brightness > 0 {
        gpuLoad += 20
    }
    
    // åŸºäºçƒ­ç®¡ç†çŠ¶æ€ä¼°ç®—
    switch ProcessInfo.processInfo.thermalState {
    case .serious:
        gpuLoad += 30
    case .critical:
        gpuLoad += 50
    }
    
    return min(gpuLoad, 100)
}
```

#### æ”¹è¿›å»ºè®®
```swift
private func estimateGPUUsage() -> Double {
    // iOS doesn't provide direct GPU usage APIs
    // This estimation is heuristic-based, not actual measurement
    
    // æ–¹æ¡ˆ1: ä½¿ç”¨Metal Performance HUD(å¦‚æœåº”ç”¨ä½¿ç”¨Metal)
    guard #available(iOS 14.0, *) else {
        return 15.0  // ä¸æ”¯æŒè®¾å¤‡çš„é»˜è®¤å€¼
    }
    
    // Metal Performance HUDæä¾›:
    // - å¸§ç‡
    // - å¸§æ—¶é—´é—´éš”
    // - æœ€ä½/æœ€é«˜ç»Ÿè®¡
    // - GPUå·¥ä½œè´Ÿè½½
    // - GPUå†…å­˜
    
    // æ–¹æ¡ˆ2: åœ¨åŸºå‡†æµ‹è¯•è¿è¡Œæ—¶è®°å½•çœŸå®çš„GPUæ—¶é—´
    // ä½¿ç”¨MTLCounterSampleBufferDescriptorè·å–ç²¾ç¡®çš„GPUæ—¶é—´
    
    // æ–¹æ¡ˆ3: ä½¿ç”¨thermal stateä½œä¸ºé—´æ¥æŒ‡æ ‡
    // ä¸¥é‡å‘çƒ­ -> GPUå¯èƒ½åœ¨é«˜è´Ÿè½½è¿è¡Œ
    
    let thermalFactor: Double
    switch ProcessInfo.processInfo.thermalState {
    case .critical:
        thermalFactor = 1.3  // ä¸¥é‡å‘çƒ­æ—¶GPUè´Ÿè½½å¯èƒ½å¢åŠ 30%
    case .serious:
        thermalFactor = 1.1  // é‡åº¦å‘çƒ­æ—¶GPUè´Ÿè½½å¯èƒ½å¢åŠ 10%
    case .fair:
        thermalFactor = 1.0
    case .nominal:
        thermalFactor = 0.9  // æ­£å¸¸æ—¶GPUè´Ÿè½½å¯èƒ½ç•¥ä½
    }
    
    // åŸºäºå±å¹•çŠ¶æ€è°ƒæ•´
    let screenFactor = UIScreen.main.brightness > 0.7 ? 1.1 : 1.0
    
    // ç»“åˆå¤šä¸ªå› ç´ 
    let estimatedLoad = baseLoad * thermalFactor * screenFactor
    
    // æ·»åŠ å…è´£å£°æ˜
    print("[DEBUG] GPUä½¿ç”¨ç‡ä¸ºä¼°ç®—å€¼,éå®é™…æµ‹é‡")
    
    return min(estimatedLoad * 100, 100)
}
```

**å†³ç­–**: 
- âœ… **ä¿ç•™**å½“å‰ä¼°ç®—å®ç°(æœ‰å¯å‘å¼åŸºç¡€)
- âœ… **æ”¹è¿›**: æ·»åŠ å…è´£å£°æ˜,è€ƒè™‘æ›´å¤šå› ç´ 
- âŒ **ä¸é‡‡ç”¨**å¤æ‚Metal Counterå®ç°(æ€§èƒ½å¼€é”€å¤§)

---

## ğŸ“Š æ€»ä½“åŠŸèƒ½å®Œæˆåº¦ç»Ÿè®¡

| ç±»åˆ« | å·²å®ç° | è™šå‡/æœªå®ç° | å®Œæˆåº¦ |
|------|--------|-----------|--------|
| è®¾å¤‡ä¿¡æ¯å±•ç¤º | âœ… | - | 100% |
| CPUæ€§èƒ½æµ‹è¯• | âœ… | - | 100% |
| GPUæ€§èƒ½æµ‹è¯• | âš ï¸ | âš ï¸ (1åœºæ™¯,3åœºæ™¯å¾…å®ç°) | 30% |
| å†…å­˜æ€§èƒ½æµ‹è¯• | âœ… | - | 100% |
| å­˜å‚¨æ€§èƒ½æµ‹è¯• | âœ… | - | 100% |
| CPU/å†…å­˜/ç”µæ± ç›‘æ§ | âœ… | - | 100% |
| ç½‘ç»œæµé‡ç›‘æ§ | âš ï¸ | - | 30% (æŠ€æœ¯ä¸Šä¸å¯ç”¨) |
| å†å²è®°å½•ç®¡ç† | âš ï¸ | âš ï¸ (CoreDataæœ‰,ä½†æœªé›†æˆ) | 30% |
| å†å²è®°å½•å¯¹æ¯” | âŒ | - | 0% (ä½¿ç”¨å‡æ•°æ®) |
| æ•°æ®å¯¼å‡º | âŒ | - | 0% (TODOæœªå®ç°) |
| æ¸…é™¤å†å² | âŒ | - | 0% (TODOæœªå®ç°) |
| ä¼ æ„Ÿå™¨ç›‘æ§ | âœ… | - | 80% (å·²å®ç°ä½†æœªé›†æˆ) |
| è®¾å¤‡å¯¹æ¯” | âŒ | - | 0% (å ä½ç¬¦) |
| äº‘ç«¯æ’è¡Œ | âŒ | - | 0% (å ä½ç¬¦) |
| å…³äºé¡µé¢å†…å®¹ | âŒ | - | 0% (å ä½ç¬¦) |

**æ€»ä½“å®Œæˆåº¦**: **60%**

---

## ğŸ¯ P0ä¼˜å…ˆçº§ä¿®å¤æ¸…å• (ç«‹å³æ‰§è¡Œ)

### 1. âœ… CompareView - æ›¿æ¢å‡æ•°æ®ä¸ºçœŸå®æ•°æ®
**ä¿®å¤æ–¹æ¡ˆ**:
```swift
// iPhoneInfo/Views/CompareView.swift
struct HistoryView: View {
    @StateObject private var historyManager = BenchmarkHistoryManager.shared
    
    var body: some View {
        VStack(spacing: 16) {
            ForEach(historyManager.history, id: \.id) { record in
                HistoryRecordCard(record: record)
            }
            
            if historyManager.history.isEmpty {
                EmptyStateView(
                    icon: "clock.arrow.circlepath",
                    title: "æš‚æ— å†å²è®°å½•",
                    message: "è¿è¡Œæ€§èƒ½æµ‹è¯•åï¼Œè®°å½•å°†è‡ªåŠ¨ä¿å­˜åˆ°è¿™é‡Œ"
                )
            }
        }
    }
}
```
**ä¼˜å…ˆçº§**: P0
**å½±å“**: ç”¨æˆ·ä½“éªŒ,ç”¨æˆ·ä¿¡ä»»

### 2. âœ… BenchmarkService - æ·»åŠ è‡ªåŠ¨ä¿å­˜
**ä¿®å¤æ–¹æ¡ˆ**:
```swift
// iPhoneInfo/Services/BenchmarkService.swift
// åœ¨ executeTestsæ–¹æ³•çš„æœ€å,æµ‹è¯•å®Œæˆåæ·»åŠ :
func executeTests(type: BenchmarkType, completion: @escaping () -> Void) {
    // ... æµ‹è¯•æ‰§è¡Œä»£ç  ...
    
    // æµ‹è¯•å®Œæˆåè‡ªåŠ¨ä¿å­˜
    Task {
        await MainActor.run {
            completion()
        }
        autoSaveResults(type: type)  // æ·»åŠ è¿™è¡Œ
    }
}
```
**ä¼˜å…ˆçº§**: P0
**å½±å“**: æ•°æ®æŒä¹…åŒ–

### 3. âœ… SettingsView - å®ç°æ•°æ®å¯¼å‡º
**ä¿®å¤æ–¹æ¡ˆ**:
```swift
// iPhoneInfo/Views/SettingsView.swift
struct DataExportView: View {
    @StateObject private var historyManager = BenchmarkHistoryManager.shared
    @State private var shareItems: [Any] = []
    @State private var showShareSheet = false
    
    var body: some View {
        VStack(spacing: 20) {
            Button("å¯¼å‡ºä¸ºCSV") {
                if let csv = historyManager.exportToCSV() {
                    let url = FileManager.default.temporaryDirectory
                        .appendingPathComponent("benchmark.csv")
                    try csv.write(to: url, atomically: true, encoding: .utf8)
                    shareItems = [url]
                    showShareSheet = true
                }
            }
            
            Button("å¯¼å‡ºä¸ºJSON") {
                if let json = historyManager.exportToJSON() {
                    let url = FileManager.default.temporaryDirectory
                        .appendingPathComponent("benchmark.json")
                    try json.data(using: .utf8)?.write(to: url)
                    shareItems = [url]
                    showShareSheet = true
                }
            }
            
            Button("å¯¼å‡ºä¸ºPDF") {
                // PDFç”Ÿæˆè¾ƒå¤æ‚,æš‚æ—¶ç¦ç”¨æˆ–ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬
                Text("PDFå¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...")
            }
        }
        .sheet(isPresented: $showShareSheet) {
            ShareSheet(activityItems: shareItems)
        }
    }
}
```
**ä¼˜å…ˆçº§**: P0
**å½±å“**: ç”¨æˆ·æ— æ³•ä¿å­˜æµ‹è¯•ç»“æœ

### 4. âœ… SettingsView - å®ç°æ¸…é™¤å†å²
**ä¿®å¤æ–¹æ¡ˆ**:
```swift
// iPhoneInfo/Views/SettingsView.swift
struct ClearHistoryView: View {
    @StateObject private var historyManager = BenchmarkHistoryManager.shared
    @State private var showConfirmation = false
    
    var body: some View {
        VStack(spacing: 20) {
            Text("æ­¤æ“ä½œå°†åˆ é™¤æ‰€æœ‰ \(historyManager.history.count) æ¡æµ‹è¯•è®°å½•ï¼Œæ— æ³•æ¢å¤ã€‚")
            
            Button("ç¡®è®¤åˆ é™¤") {
                showConfirmation = true
            }
        }
        .alert("ç¡®è®¤åˆ é™¤", isPresented: $showConfirmation) {
            Button("å–æ¶ˆ", role: .cancel) {}
            Button("åˆ é™¤", role: .destructive) {
                historyManager.clearAllHistory()
            }
        }
    }
}
```
**ä¼˜å…ˆçº§**: P0
**å½±å“**: å­˜å‚¨ç©ºé—´,æ•°æ®ç®¡ç†

### 5. âœ… HomeView - é›†æˆä¼ æ„Ÿå™¨ç›‘æ§
**ä¿®å¤æ–¹æ¡ˆ**:
```swift
// iPhoneInfo/Views/HomeView.swift
struct HomeView: View {
    @StateObject private var sensorService = SensorService.shared
    
    var body: some View {
        // ... å…¶ä»–å†…å®¹ ...
        
        // æ·»åŠ ä¼ æ„Ÿå™¨ç›‘æ§å¡ç‰‡
        SensorMonitorCard(sensorService: sensorService)
            .onAppear {
                sensorService.startMonitoring()
            }
            .onDisappear {
                sensorService.stopMonitoring()
            }
    }
}
```
**ä¼˜å…ˆçº§**: P1
**å½±å“**: åŠŸèƒ½å®Œæ•´æ€§

---

## ğŸ“ æŠ€æœ¯è°ƒç ”æ€»ç»“

### ç½‘ç»œæµé‡ç›‘æ§ç»“è®º
**âŒ æ”¾å¼ƒçœŸå®å®ç°**
- iOSä¸æ”¯æŒè·å–åº”ç”¨æµé‡ç»Ÿè®¡æ•°æ®(App Storeéšç§é™åˆ¶)
- ç§æœ‰API(getifaddrs)å­˜åœ¨ä¸¥é‡é™åˆ¶(1KiB rounding, 32ä½æº¢å‡º)
- NetworkExtensionæ–¹æ¡ˆé£é™©é«˜ä¸”å®¡æ ¸å›°éš¾

**âœ… æ¨èæ›¿ä»£æ–¹æ¡ˆ**
- ä½¿ç”¨Networkæ¡†æ¶ç›‘æ§è¿æ¥çŠ¶æ€(åœ¨çº¿/ç¦»çº¿)
- åœ¨UIä¸­æ˜ç¡®æ ‡æ³¨"æµé‡ç›‘æ§åœ¨iOSä¸Šä¸å¯ç”¨(App Storeéšç§é™åˆ¶)"
- å®Œå…¨ç§»é™¤æµé‡ç»Ÿè®¡ä»£ç ,é¿å…è¯¯å¯¼ç”¨æˆ·

### GPUç›‘æ§ç»“è®º
**âš ï¸ ä¿ç•™ä¼°ç®—å®ç°,ä½†éœ€æ”¹è¿›**
- å½“å‰estimateGPUUsage()åŸºäºå±å¹•äº®åº¦å’Œçƒ­ç®¡ç†
- æ·»åŠ Metal Performance HUDå¯æä¾›æ›´å‡†ç¡®æ•°æ®
- æˆ–åœ¨åŸºå‡†æµ‹è¯•æ—¶è®°å½•çœŸå®GPUæ—¶é—´
- æ·»åŠ æ˜ç¡®çš„å…è´£å£°æ˜

### Metalå…‰çº¿è¿½è¸ª
**âœ… å¯å®ç°**(iOS 14+,A17 Pro+)
- æ”¯æŒç¡¬ä»¶åŠ é€Ÿ: A17 Pro (Apple 9 GPU)
- ä½¿ç”¨Metal Ray Tracing API (MTLAccelerationStructureç­‰)
- æ·»åŠ è¿è¡Œæ—¶æ£€æµ‹å’Œä¼˜é›…é™çº§

---

## ğŸš¨ é£é™©è¯„ä¼°

### é«˜é£é™©é¡¹
1. **CompareViewå‡æ•°æ®** - ç”¨æˆ·æµ‹è¯•åçœ‹ä¸åˆ°çœŸå®ç»“æœ
2. **æ— æ³•å¯¼å‡ºæ•°æ®** - æµ‹è¯•ç»“æœæ— æ³•ä¿å­˜å’Œå¯¼å‡º
3. **æ— æ³•æ¸…é™¤å†å²** - ç´¯ç§¯çš„æµ‹è¯•è®°å½•æ— æ³•ç®¡ç†

### ä¸­é£é™©é¡¹
1. **ç½‘ç»œæµé‡å…¨0** - ç”¨æˆ·å¯èƒ½è®¤ä¸ºåŠŸèƒ½æœ‰é—®é¢˜
2. **GPUåœºæ™¯ç¼ºå¤±** - ä¸“ä¸šåŸºå‡†æµ‹è¯•åªæœ‰1ä¸ªåœºæ™¯
3. **ä¼ æ„Ÿå™¨æœªé›†æˆ** - å·²å®ç°ä½†UIä¸­æœªæ˜¾ç¤º

---

æŠ¥å‘Šç”Ÿæˆå®Œæˆ
